(this.webpackJsonpspotifypartyfront=this.webpackJsonpspotifypartyfront||[]).push([[0],{49:function(e,t,a){e.exports=a(65)},54:function(e,t,a){},55:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(16),r=a.n(o),s=(a(54),a(17)),i=a(18),l=a(22),u=a(23),m=a(71),d=a(74),h=a(72),p=a(73),E=a(46),g=a(45),f=(a(55),window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{}));window.location.hash="";var v=f,y=a(29);a(56).config({path:"../../../.env"});var b=["user-read-currently-playing","user-read-playback-state","user-modify-playback-state","user-read-email"],k=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={client_id:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).CLIENT_ID,redirect_uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REDIRECT_URI,loggedIn:!1,token:null,email:null,username:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.state.redirect_uri);var e=v.access_token;e?(console.log("token is: ",e),this.props.getAccessToken(e),this.getAccountInfo(e),this.setState({loggedIn:!0})):this.setState({loggedIn:!1})}},{key:"getAccountInfo",value:function(e){var t=this;y.ajax({url:"https://api.spotify.com/v1/me",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){t.setState({username:e.display_name}),console.log(t.state.email)}})}},{key:"render",value:function(){return c.a.createElement(m.a,{className:"topheader",bg:"light",expand:"lg"},c.a.createElement(m.a.Brand,{className:"brandLogo",href:"/"},"Spotify Party"),c.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(d.a,{className:"mr-auto"},c.a.createElement(d.a.Link,{href:"#home"},"Home"),c.a.createElement(d.a.Link,{href:"#link"},"Link")),!1===this.state.loggedIn?c.a.createElement(d.a,{className:"ml-auto logintag"},c.a.createElement(d.a.Link,{href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat(this.state.client_id,"&redirect_uri=").concat(this.state.redirect_uri,"&scope=").concat(b.join("%20"),"&response_type=token&show_dialog=true")},"Login with Spotify")):c.a.createElement(d.a,{className:"ml-auto"},c.a.createElement(h.a,{className:"myaccountTag",title:"My Account",id:"basic-nav-dropdown"},c.a.createElement(h.a.Item,{href:"#"},"Hello, ",this.state.username),c.a.createElement(h.a.Item,{href:"#"},"Preferences"),c.a.createElement(h.a.Divider,null),c.a.createElement(h.a.Item,{href:"#"},"Log out"))),c.a.createElement(p.a,{inline:!0,className:"searchButton"},c.a.createElement(E.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),c.a.createElement(g.a,{variant:"outline-success"},"Search"))))}}]),a}(c.a.Component),_=(a(63),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this)).state={loggedIn:!0,item:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null!==this.props.token&&this.getAccountInfo(this.props.token)}},{key:"getAccountInfo",value:function(e){var t=this;y.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){void 0!==e&&t.setState({item:e.item})}})}},{key:"render",value:function(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{id:"mygroups",className:"col-2 border"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("h2",null,"My groups"))),c.a.createElement("div",{className:"col-7"},c.a.createElement("div",{className:"row nowplaying border"},null===this.state.item?c.a.createElement("h2",null,"Now Playing: [Nothing is playing]"):c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("h2",null,"Now Playing: ",this.state.item.name),c.a.createElement("h4",null,"Artist: ",this.state.item.artists[0].name),c.a.createElement("h4",null,"Album: ",this.state.item.album.name)),c.a.createElement("div",{className:"col"},c.a.createElement("img",{src:"".concat(this.state.item.album.images[1].url),alt:"Cover"})))),c.a.createElement("div",{className:"row nextup border"},c.a.createElement("h2",null,"Next up:"))),c.a.createElement("div",{id:"chat",className:"col-3 border"},c.a.createElement("h2",null,"Chat")))}}]),a}(c.a.Component)),S=(a(64),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).getAccessToken=function(t){e.setState({access_token:t})},e.getLoginState=function(t){!0===t?e.setState({loggedIn:!0}):e.setState({loggedIn:!1})},e.state={access_token:null,itemPlaying:"HEHEH",loggedIn:!1},e}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},(this.state.access_token,c.a.createElement(k,{getAccessToken:this.getAccessToken})),null==this.state.access_token?c.a.createElement("div",null,c.a.createElement(_,null)):c.a.createElement(_,{token:this.state.access_token}))}}]),a}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.86356ec9.chunk.js.map